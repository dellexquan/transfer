<mxfile host="app.diagrams.net" modified="2022-07-15T05:46:54.451Z" agent="5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.84 Safari/537.36" etag="nHsscWgY1cGcX-BKkGNf" version="20.1.1" type="github" pages="7">
  <diagram id="swRwdmD24nRBNKfR8wYX" name="Overall">
    <mxGraphModel dx="3361" dy="1862" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="dLYd8MaffXc8T0qKadW--39" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-930" y="180" width="740" height="490" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--20" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="38.5" y="185" width="760" height="470" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--1" value="Identity Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-140" y="50" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--3" value="Tenant: Rewards" style="swimlane;startSize=23;" vertex="1" parent="1">
          <mxGeometry x="130" y="230" width="200" height="390" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--2" value="Front-end" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--3">
          <mxGeometry x="40" y="50" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--4" value="Middle-end" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--3">
          <mxGeometry x="40" y="160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--6" value="Tenant: Flex" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="330" y="230" width="200" height="390" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--7" value="Front-end" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--6">
          <mxGeometry x="40" y="50" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--8" value="Middle-end" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--6">
          <mxGeometry x="40" y="160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--10" value="Tenant: HBEM" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="530" y="230" width="200" height="390" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--11" value="Front-end" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--10">
          <mxGeometry x="40" y="50" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--12" value="Middle-end" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--10">
          <mxGeometry x="40" y="160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--14" value="Role: Admin" style="swimlane;horizontal=0;startSize=23;" vertex="1" parent="1">
          <mxGeometry x="107" y="480" width="623" height="140" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--5" value="Back-end" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--14">
          <mxGeometry x="70" y="50" width="510" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--17" value="Role: Operation" style="swimlane;horizontal=0;" vertex="1" parent="1">
          <mxGeometry x="107" y="360" width="623" height="120" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--19" value="Role: Client" style="swimlane;horizontal=0;" vertex="1" parent="1">
          <mxGeometry x="107" y="253" width="623" height="107" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--21" value="Client" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="47" y="190" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--22" value="Module: Rewards" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="-720" y="240" width="150" height="310" as="geometry" />
        </mxCell>
        <mxCell id="ON6syDoRwTHtTgmHB61R-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="dLYd8MaffXc8T0qKadW--22" source="dLYd8MaffXc8T0qKadW--23" target="dLYd8MaffXc8T0qKadW--31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--23" value="Application Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--22">
          <mxGeometry x="15" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ON6syDoRwTHtTgmHB61R-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="dLYd8MaffXc8T0qKadW--22" source="dLYd8MaffXc8T0qKadW--31" target="dLYd8MaffXc8T0qKadW--35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--31" value="Domian Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--22">
          <mxGeometry x="15" y="125" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--35" value="Repository" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--22">
          <mxGeometry x="15" y="210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--24" value="Module: Common" style="swimlane;startSize=23;" vertex="1" parent="1">
          <mxGeometry x="-870" y="240" width="150" height="310" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="dLYd8MaffXc8T0qKadW--24" source="dLYd8MaffXc8T0qKadW--25" target="dLYd8MaffXc8T0qKadW--30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--25" value="Application Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--24">
          <mxGeometry x="15" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="dLYd8MaffXc8T0qKadW--24" source="dLYd8MaffXc8T0qKadW--30" target="dLYd8MaffXc8T0qKadW--34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--30" value="Domian Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--24">
          <mxGeometry x="15" y="125" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--34" value="Repository" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--24">
          <mxGeometry x="15" y="210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--26" value="Module: Flex" style="swimlane;startSize=23;" vertex="1" parent="1">
          <mxGeometry x="-570" y="240" width="150" height="310" as="geometry" />
        </mxCell>
        <mxCell id="ON6syDoRwTHtTgmHB61R-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="dLYd8MaffXc8T0qKadW--26" source="dLYd8MaffXc8T0qKadW--27" target="dLYd8MaffXc8T0qKadW--32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--27" value="Application Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--26">
          <mxGeometry x="15" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ON6syDoRwTHtTgmHB61R-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="dLYd8MaffXc8T0qKadW--26" source="dLYd8MaffXc8T0qKadW--32" target="dLYd8MaffXc8T0qKadW--36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--32" value="Domian Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--26">
          <mxGeometry x="15" y="125" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--36" value="Repository" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--26">
          <mxGeometry x="15" y="210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--28" value="Module: HBEM" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="-420" y="240" width="150" height="310" as="geometry" />
        </mxCell>
        <mxCell id="ON6syDoRwTHtTgmHB61R-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="dLYd8MaffXc8T0qKadW--28" source="dLYd8MaffXc8T0qKadW--29" target="dLYd8MaffXc8T0qKadW--33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--29" value="Application Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--28">
          <mxGeometry x="15" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ON6syDoRwTHtTgmHB61R-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="dLYd8MaffXc8T0qKadW--28" source="dLYd8MaffXc8T0qKadW--33" target="dLYd8MaffXc8T0qKadW--37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--33" value="Domian Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--28">
          <mxGeometry x="15" y="125" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--37" value="Repository" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="dLYd8MaffXc8T0qKadW--28">
          <mxGeometry x="15" y="210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--40" value="API" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-920" y="190" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--41" value="ABP Framework" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-870" y="568" width="600" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--42" value="AD" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-140" y="-90" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--44" value="" style="endArrow=classic;startArrow=none;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;startFill=0;" edge="1" parent="1" source="dLYd8MaffXc8T0qKadW--1" target="dLYd8MaffXc8T0qKadW--42">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-380" y="40" as="sourcePoint" />
            <mxPoint x="-330" y="-10" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--51" value="2.Verify User" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="dLYd8MaffXc8T0qKadW--44">
          <mxGeometry x="0.375" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--45" value="" style="endArrow=classic;startArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startFill=0;" edge="1" parent="1" source="dLYd8MaffXc8T0qKadW--39" target="dLYd8MaffXc8T0qKadW--1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-340" y="140" as="sourcePoint" />
            <mxPoint x="-290" y="90" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--50" value="4. Verify Token" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="dLYd8MaffXc8T0qKadW--45">
          <mxGeometry x="0.1791" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--46" value="" style="endArrow=classic;startArrow=none;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.124;exitY=0.002;exitDx=0;exitDy=0;exitPerimeter=0;startFill=0;" edge="1" parent="1" source="dLYd8MaffXc8T0qKadW--20" target="dLYd8MaffXc8T0qKadW--1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="160.0008695652175" y="130" as="sourcePoint" />
            <mxPoint x="281.74" y="30" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--48" value="1. Login / External Login to Get Token" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="dLYd8MaffXc8T0qKadW--46">
          <mxGeometry x="0.2569" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--47" value="" style="endArrow=none;startArrow=classic;html=1;rounded=0;entryX=-0.003;entryY=0.164;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.001;exitY=0.165;exitDx=0;exitDy=0;exitPerimeter=0;endFill=0;" edge="1" parent="1" source="dLYd8MaffXc8T0qKadW--39" target="dLYd8MaffXc8T0qKadW--20">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-129.9991304347825" y="290" as="sourcePoint" />
            <mxPoint x="-8.260000000000005" y="190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--49" value="3. Call API with Token" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="dLYd8MaffXc8T0qKadW--47">
          <mxGeometry x="0.2353" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--52" value="" style="endArrow=classic;startArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startFill=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="dLYd8MaffXc8T0qKadW--39" target="dLYd8MaffXc8T0qKadW--42">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-499.9991304347825" y="40" as="sourcePoint" />
            <mxPoint x="-378.26" y="-60" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dLYd8MaffXc8T0qKadW--53" value="0. Register User&amp;nbsp; / Invalid User" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="dLYd8MaffXc8T0qKadW--52">
          <mxGeometry x="0.1791" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4oMpkSNZn0KU_wKnw_V8-1" value="&lt;p style=&quot;line-height: 1.4&quot;&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;1. 认证服务只负责登录认证&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;2. 内部用户可以通过统一Back-end，由系统Admin创建并且授权&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;3. 外部用户则由对应系统的OP在对应系统的中台创建并且授权&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;4. 如果一个自然人需要多个系统，则这个自然人会在每个系统都有一个账户，但是这个账户的名称应该是一致的，所以该自然人在AD里面只有一个对应的用户&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;5. 注册用户，由中台API发起。&lt;/div&gt;&lt;p&gt;&lt;/p&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="107" y="-80" width="400" height="160" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="h62QO9GPhtBZzxxnN25p" name="Login#1">
    <mxGraphModel dx="1661" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-1" value="Front-end Client" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="130" y="200" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-2" value="Identity Service" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="200" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-3" value="Active Directory / Open LDAP" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="200" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-4" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1">
          <mxGeometry x="229.5" y="470" width="100" height="100" as="geometry">
            <mxPoint x="189.5" y="250" as="sourcePoint" />
            <mxPoint x="190" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-5" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="1">
          <mxGeometry x="185" y="290" width="10" height="330" as="geometry" />
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-6" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;fontColor=none;noLabel=1;" edge="1" parent="1" target="08RHCY_nA2Y-Jt_lYaxq-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="115" y="290" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-7" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;" edge="1" parent="1" source="08RHCY_nA2Y-Jt_lYaxq-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="110" y="604" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-8" value="login(user_name, password, tenant)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="90" y="260" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-9" value="token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="100" y="570" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-10" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.2;entryY=0.088;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="08RHCY_nA2Y-Jt_lYaxq-11">
          <mxGeometry x="460.72" y="470" width="100" height="100" as="geometry">
            <mxPoint x="420.72000000000025" y="250" as="sourcePoint" />
            <mxPoint x="419" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-11" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="415" y="370" width="10" height="170" as="geometry" />
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-12" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;fontColor=none;noLabel=1;exitX=0.8;exitY=0.242;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="08RHCY_nA2Y-Jt_lYaxq-5" target="08RHCY_nA2Y-Jt_lYaxq-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="265" y="370" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-13" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;entryX=0.8;entryY=0.73;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="08RHCY_nA2Y-Jt_lYaxq-11" target="08RHCY_nA2Y-Jt_lYaxq-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="270" y="531" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-14" value="login(user_name, password, tenant)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="200" y="330" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-15" value="token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="210" y="500" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-16" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1">
          <mxGeometry x="731.86" y="467.52" width="100" height="100" as="geometry">
            <mxPoint x="691.8600000000001" y="247.51999999999998" as="sourcePoint" />
            <mxPoint x="688" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-17" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="685" y="400" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-18" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;fontColor=none;exitX=1.5;exitY=0.176;exitDx=0;exitDy=0;exitPerimeter=0;noLabel=1;" edge="1" parent="1" source="08RHCY_nA2Y-Jt_lYaxq-11" target="08RHCY_nA2Y-Jt_lYaxq-17">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="615" y="400" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-19" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;entryX=1.5;entryY=0.624;entryDx=0;entryDy=0;entryPerimeter=0;noLabel=1;" edge="1" parent="1" source="08RHCY_nA2Y-Jt_lYaxq-17" target="08RHCY_nA2Y-Jt_lYaxq-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="615" y="476" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-20" value="login(user_name, password)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="465" y="370" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="08RHCY_nA2Y-Jt_lYaxq-21" value="user_info" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="475" y="450" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OwTcfa6Jj6gpHYDIPsSV-1" value="&lt;p style=&quot;line-height: 1.4&quot;&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;1. 前端用户传输user_name, password以及tenant给到认证服务&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;2. 认证服务传输user_name, password到AD验证&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;3. 如果验证通过，AD返回用户信息给到认证服务，认证服务利用用户信息中可以访问的Tenant对Tenant参数进行比对&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;4. 如果比对通过，则返回端用户在该tenant下对应的User的Token&lt;/div&gt;&lt;p&gt;&lt;/p&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="270" y="560" width="400" height="160" as="geometry" />
        </mxCell>
        <mxCell id="FI9fwJADPWSTf1FCV3ku-1" value="#1: Login with User Name and Password" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" vertex="1" parent="1">
          <mxGeometry x="360" y="30" width="100" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Login#2" id="_Wfz3NMBEmT7sMtxBxJj">
    <mxGraphModel dx="2511" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-0" />
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-1" parent="FKMZ6QL55wnliXa2MSdZ-0" />
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-2" value="Front-end Client" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-710" y="160" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-3" value="Identity Service" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-480" y="160" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-4" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-610.5" y="430" width="100" height="100" as="geometry">
            <mxPoint x="-650.5" y="210" as="sourcePoint" />
            <mxPoint x="-650" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-5" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-655" y="250" width="10" height="330" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-6" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;fontColor=none;noLabel=1;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1" target="FKMZ6QL55wnliXa2MSdZ-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-725" y="250" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-7" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1" source="FKMZ6QL55wnliXa2MSdZ-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-730" y="564" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-8" value="external_login&lt;br&gt;(credentail, tenant, provider)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-840" y="220" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-9" value="new token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-740" y="530" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-10" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.2;entryY=0.088;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1" target="FKMZ6QL55wnliXa2MSdZ-11">
          <mxGeometry x="-379.28" y="430" width="100" height="100" as="geometry">
            <mxPoint x="-419.27999999999975" y="210" as="sourcePoint" />
            <mxPoint x="-421" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-11" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=none;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-425" y="330" width="10" height="170" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-12" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;fontColor=none;noLabel=1;exitX=0.8;exitY=0.242;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1" source="FKMZ6QL55wnliXa2MSdZ-5" target="FKMZ6QL55wnliXa2MSdZ-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-575" y="330" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-13" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;entryX=0.8;entryY=0.73;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1" source="FKMZ6QL55wnliXa2MSdZ-11" target="FKMZ6QL55wnliXa2MSdZ-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-570" y="491" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-14" value="external_login&lt;br&gt;(credentail, tenant, provider)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-640" y="290" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-15" value="new token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-630" y="460" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-16" value="Active Directory / Open LDAP" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="30" y="160" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-17" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1" source="FKMZ6QL55wnliXa2MSdZ-16">
          <mxGeometry x="161.86" y="437.52" width="100" height="100" as="geometry">
            <mxPoint x="121.86000000000013" y="217.51999999999998" as="sourcePoint" />
            <mxPoint x="118" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-18" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=none;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="115" y="406" width="10" height="90" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-19" value="query_user(user_name)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-230" y="410" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-20" value="user_info" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-230" y="450" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-21" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontColor=none;exitX=1.5;exitY=0.176;exitDx=0;exitDy=0;exitPerimeter=0;noLabel=1;entryX=-0.3;entryY=0.378;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1" target="FKMZ6QL55wnliXa2MSdZ-18">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-415" y="441.99999999999994" as="sourcePoint" />
            <mxPoint x="120" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-22" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontColor=none;entryX=1.5;entryY=0.624;entryDx=0;entryDy=0;entryPerimeter=0;noLabel=1;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-415" y="480.08000000000004" as="targetPoint" />
            <mxPoint x="110" y="480" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-23" value="&lt;p style=&quot;line-height: 1.4&quot;&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;1. 前端用户传输credential,登录站点以及第三方登录的provider给认证服务&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;2. 认证服务调用相关的第三方登录Provider,传输credential参数&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;3. 第三方登录的Provider，根据credential参数，获得返回相关的user_name&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;4. 认证服务用user_name去AD查询相关用户信息&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;5.&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;认证服务利用用户信息中可以访问的Tenant，对Tenant参数进行比对&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;6. 如果比对通过，则返回前端用户在该tenant下对应的User的Token&lt;/div&gt;&lt;p&gt;&lt;/p&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-580" y="580" width="400" height="160" as="geometry" />
        </mxCell>
        <mxCell id="FKMZ6QL55wnliXa2MSdZ-24" value="#2: External Login (Wechat, SAML, OPENID, INTERNAL SSO...)" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-475" y="50" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="hpN6JUtjgw8UozkMj9e--0" value="External Provider" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-240" y="160" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="hpN6JUtjgw8UozkMj9e--1" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.561;exitY=1.02;exitDx=0;exitDy=0;exitPerimeter=0;startArrow=none;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1" source="hpN6JUtjgw8UozkMj9e--2">
          <mxGeometry x="-96.13999999999999" y="447.52" width="100" height="100" as="geometry">
            <mxPoint x="-138" y="220" as="sourcePoint" />
            <mxPoint x="-140" y="340" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-140" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="hpN6JUtjgw8UozkMj9e--3" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontColor=none;noLabel=1;exitX=-0.1;exitY=0.843;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1.5;entryY=0.353;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1" source="hpN6JUtjgw8UozkMj9e--2" target="FKMZ6QL55wnliXa2MSdZ-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-420" y="380" as="targetPoint" />
            <mxPoint x="100" y="400" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hpN6JUtjgw8UozkMj9e--5" value="user_name" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-360" y="360" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="f9SXQ6XhwrR5HgpP615r-0" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontColor=none;exitX=1.5;exitY=0.176;exitDx=0;exitDy=0;exitPerimeter=0;noLabel=1;entryX=-0.1;entryY=0.314;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1" target="hpN6JUtjgw8UozkMj9e--2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-415" y="351.98" as="sourcePoint" />
            <mxPoint x="-140" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hpN6JUtjgw8UozkMj9e--2" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=none;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-145" y="328" width="10" height="70" as="geometry" />
        </mxCell>
        <mxCell id="f9SXQ6XhwrR5HgpP615r-2" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.561;exitY=1.02;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="FKMZ6QL55wnliXa2MSdZ-1" source="hpN6JUtjgw8UozkMj9e--0" target="hpN6JUtjgw8UozkMj9e--2">
          <mxGeometry x="-96.13999999999999" y="447.52" width="100" height="100" as="geometry">
            <mxPoint x="-139.01999999999998" y="211" as="sourcePoint" />
            <mxPoint x="-140" y="340" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f9SXQ6XhwrR5HgpP615r-3" value="query(credential)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="FKMZ6QL55wnliXa2MSdZ-1">
          <mxGeometry x="-370" y="320" width="190" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="62KNu0T7i3XhhvO_WbGN" name="0. Register User">
    <mxGraphModel dx="3361" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="goxFKX7G7YGkkBOSEjHI-1" value="Front-end Client" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-811" y="20" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-2" value="Middle-end API Hosting" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-592.5" y="20" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-3" value="Middle-end Service" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-382.5" y="20" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-4" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="1">
          <mxGeometry x="-758" y="110" width="10" height="330" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-5" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;fontColor=none;noLabel=1;" edge="1" parent="1" target="goxFKX7G7YGkkBOSEjHI-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-828" y="110" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-6" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;" edge="1" parent="1" source="goxFKX7G7YGkkBOSEjHI-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-833" y="424" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-7" value="success / fail" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-870" y="390" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-8" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1">
          <mxGeometry x="-712.28" y="290" width="100" height="100" as="geometry">
            <mxPoint x="-752.2800000000002" y="70" as="sourcePoint" />
            <mxPoint x="-754" y="110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-9" value="Active Directory / Open LDAP" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-195" y="20" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-10" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="1">
          <mxGeometry x="-527.5" y="150" width="10" height="210" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-11" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;fontColor=none;noLabel=1;exitX=0.9;exitY=0.124;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="goxFKX7G7YGkkBOSEjHI-4" target="goxFKX7G7YGkkBOSEjHI-10">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-591" y="150.01999999999998" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-12" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;entryX=1.3;entryY=0.733;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="goxFKX7G7YGkkBOSEjHI-10" target="goxFKX7G7YGkkBOSEjHI-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-596" y="349.4999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-13" value="success / fail" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-706" y="320" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-14" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="1">
          <mxGeometry x="-327.5" y="170" width="10" height="170" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-15" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;fontColor=none;noLabel=1;exitX=0.9;exitY=0.1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="goxFKX7G7YGkkBOSEjHI-10" target="goxFKX7G7YGkkBOSEjHI-14">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-347" y="170" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-16" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;" edge="1" parent="1" source="goxFKX7G7YGkkBOSEjHI-14" target="goxFKX7G7YGkkBOSEjHI-10">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-352" y="484" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-17" value="success / fail" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-421" y="300" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-18" value="register(user)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-491" y="140" width="153" height="30" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=none;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-391" y="170" as="sourcePoint" />
            <mxPoint x="-391" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-20" value="register(user)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-724" y="120" width="153" height="30" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-21" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.7;entryY=0.01;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="goxFKX7G7YGkkBOSEjHI-10">
          <mxGeometry x="-625.28" y="300" width="100" height="100" as="geometry">
            <mxPoint x="-524" y="70" as="sourcePoint" />
            <mxPoint x="-521" y="130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-22" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" target="goxFKX7G7YGkkBOSEjHI-14">
          <mxGeometry x="-428.28" y="300" width="100" height="100" as="geometry">
            <mxPoint x="-327" y="70" as="sourcePoint" />
            <mxPoint x="-323.5" y="152.10000000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-23" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="1">
          <mxGeometry x="-120" y="180" width="10" height="140" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=none;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-174.5" y="180" as="sourcePoint" />
            <mxPoint x="-174.5" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-25" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;entryX=1;entryY=0.818;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="goxFKX7G7YGkkBOSEjHI-14">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-260" y="309.9999999999998" as="targetPoint" />
            <mxPoint x="-120" y="309.9999999999998" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-26" value="success / fail" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-251" y="280" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-27" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontColor=none;noLabel=1;exitX=1.25;exitY=0.118;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="goxFKX7G7YGkkBOSEjHI-14" target="goxFKX7G7YGkkBOSEjHI-23">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-286" y="191" as="sourcePoint" />
            <mxPoint x="-145" y="190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-28" value="register(user)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-283" y="150" width="153" height="30" as="geometry" />
        </mxCell>
        <mxCell id="goxFKX7G7YGkkBOSEjHI-29" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.6;entryY=-0.029;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="goxFKX7G7YGkkBOSEjHI-9" target="goxFKX7G7YGkkBOSEjHI-23">
          <mxGeometry x="-211.27999999999997" y="295" width="100" height="100" as="geometry">
            <mxPoint x="-110" y="65" as="sourcePoint" />
            <mxPoint x="-109.5" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lZQsWvshrxenJSVke2LE-1" value="&lt;p style=&quot;line-height: 1.4&quot;&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;1. 注册AD用户时，会先用username检验是否AD用户已存在，如果不存在，则创建。&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;2. 同时会更新AD用户可以访问的Tenant的信息。&lt;/div&gt;&lt;p&gt;&lt;/p&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-625" y="410" width="400" height="160" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="esCs9eO3v0lzDRIJooU5" name="0. Invalid User">
    <mxGraphModel dx="2511" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="U7C4HUPytljrcTJQaG_g-1" value="Front-end Client" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-715" y="70" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-2" value="Middle-end API Hosting" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-496.5" y="70" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-3" value="Middle-end Service" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-286.5" y="70" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-4" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="1">
          <mxGeometry x="-662" y="160" width="10" height="330" as="geometry" />
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-5" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;fontColor=none;noLabel=1;" edge="1" parent="1" target="U7C4HUPytljrcTJQaG_g-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-732" y="160" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-6" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;" edge="1" parent="1" source="U7C4HUPytljrcTJQaG_g-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-737" y="474" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-7" value="success / fail" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-774" y="440" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-8" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1">
          <mxGeometry x="-616.28" y="340" width="100" height="100" as="geometry">
            <mxPoint x="-656.2800000000002" y="120" as="sourcePoint" />
            <mxPoint x="-658" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-9" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="1">
          <mxGeometry x="-431.5" y="200" width="10" height="210" as="geometry" />
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-10" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;fontColor=none;noLabel=1;exitX=0.9;exitY=0.124;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="U7C4HUPytljrcTJQaG_g-4" target="U7C4HUPytljrcTJQaG_g-9">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-495" y="200.01999999999998" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-11" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;entryX=1.3;entryY=0.733;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="U7C4HUPytljrcTJQaG_g-9" target="U7C4HUPytljrcTJQaG_g-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-500" y="399.4999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-12" value="success / fail" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-595" y="370" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-13" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="1">
          <mxGeometry x="-231.5" y="220" width="10" height="170" as="geometry" />
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-14" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;fontColor=none;noLabel=1;exitX=0.9;exitY=0.1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="U7C4HUPytljrcTJQaG_g-9" target="U7C4HUPytljrcTJQaG_g-13">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-251" y="220" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-15" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;" edge="1" parent="1" source="U7C4HUPytljrcTJQaG_g-13" target="U7C4HUPytljrcTJQaG_g-9">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-256" y="534" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-16" value="success / fail" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-373.5" y="350" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-17" value="invalid(user)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-395" y="190" width="153" height="30" as="geometry" />
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=none;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-295" y="220" as="sourcePoint" />
            <mxPoint x="-295" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-19" value="invalid(user)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-628" y="170" width="153" height="30" as="geometry" />
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-20" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.7;entryY=0.01;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="U7C4HUPytljrcTJQaG_g-9">
          <mxGeometry x="-529.28" y="350" width="100" height="100" as="geometry">
            <mxPoint x="-428" y="120" as="sourcePoint" />
            <mxPoint x="-425" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-21" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" target="U7C4HUPytljrcTJQaG_g-13">
          <mxGeometry x="-332.28" y="350" width="100" height="100" as="geometry">
            <mxPoint x="-231" y="120" as="sourcePoint" />
            <mxPoint x="-227.5" y="202.10000000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U7C4HUPytljrcTJQaG_g-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=none;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-78.5" y="230" as="sourcePoint" />
            <mxPoint x="-78.5" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="60YSGU3nvhdCub-GHOsX-1" value="1. 禁用AD用户时，会检查该用户对应的AD用户可以访问的Tenant的信息。&lt;br&gt;2. 如果AD用户只能访问的Tenant只剩最后一个，则将用户可以访问对的Tenant信息清空，同时删除该用户。&lt;br&gt;3. 如果剩余多个Tenant，则只是清空当前用户对应的Tenant。" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-610" y="480" width="340" height="260" as="geometry" />
        </mxCell>
        <mxCell id="-3ttlUSmbDj9EHT_61Gz-1" value="Active Directory / Open LDAP" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-99" y="70" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-3ttlUSmbDj9EHT_61Gz-2" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="1">
          <mxGeometry x="-24" y="230" width="10" height="140" as="geometry" />
        </mxCell>
        <mxCell id="-3ttlUSmbDj9EHT_61Gz-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=none;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-78.5" y="230" as="sourcePoint" />
            <mxPoint x="-78.5" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-3ttlUSmbDj9EHT_61Gz-4" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;fontColor=none;noLabel=1;entryX=1;entryY=0.818;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-221.5" y="359.05999999999995" as="targetPoint" />
            <mxPoint x="-24" y="359.9999999999998" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-3ttlUSmbDj9EHT_61Gz-5" value="success / fail" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-155" y="330" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-3ttlUSmbDj9EHT_61Gz-6" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontColor=none;noLabel=1;exitX=1.25;exitY=0.118;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" target="-3ttlUSmbDj9EHT_61Gz-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-219" y="240.05999999999995" as="sourcePoint" />
            <mxPoint x="-49" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-3ttlUSmbDj9EHT_61Gz-7" value="invalid(user)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=none;" vertex="1" parent="1">
          <mxGeometry x="-187" y="200" width="153" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-3ttlUSmbDj9EHT_61Gz-8" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.6;entryY=-0.029;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="-3ttlUSmbDj9EHT_61Gz-1" target="-3ttlUSmbDj9EHT_61Gz-2">
          <mxGeometry x="-115.27999999999997" y="345" width="100" height="100" as="geometry">
            <mxPoint x="-14" y="115" as="sourcePoint" />
            <mxPoint x="-13.5" y="215" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="UserName#1" id="81F1ig0iVLZl0JjWJJ6K">
    <mxGraphModel dx="1661" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-0" />
        <mxCell id="_vLncxr_IEYn2UinCR8Z-1" parent="_vLncxr_IEYn2UinCR8Z-0" />
        <mxCell id="_vLncxr_IEYn2UinCR8Z-2" value="#2: External Staff for Multiple Tenants" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" vertex="1" parent="_vLncxr_IEYn2UinCR8Z-1">
          <mxGeometry x="360" y="30" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="_vLncxr_IEYn2UinCR8Z-1" source="_vLncxr_IEYn2UinCR8Z-6" target="_vLncxr_IEYn2UinCR8Z-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="_vLncxr_IEYn2UinCR8Z-1" source="_vLncxr_IEYn2UinCR8Z-6" target="_vLncxr_IEYn2UinCR8Z-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="_vLncxr_IEYn2UinCR8Z-1" source="_vLncxr_IEYn2UinCR8Z-6" target="_vLncxr_IEYn2UinCR8Z-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-6" value="External Staff" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="_vLncxr_IEYn2UinCR8Z-1">
          <mxGeometry x="50" y="250" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="_vLncxr_IEYn2UinCR8Z-1" source="_vLncxr_IEYn2UinCR8Z-8" target="_vLncxr_IEYn2UinCR8Z-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-8" value="Rewards: User(@username= &quot;az-123&quot; || &quot;xyz@az.com&quot;)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="_vLncxr_IEYn2UinCR8Z-1">
          <mxGeometry x="250" y="180" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="_vLncxr_IEYn2UinCR8Z-1" source="_vLncxr_IEYn2UinCR8Z-10" target="_vLncxr_IEYn2UinCR8Z-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-10" value="Flex: User(@username=&quot;az-123&quot; || &quot;xyz@az.com&quot;)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="_vLncxr_IEYn2UinCR8Z-1">
          <mxGeometry x="250" y="270" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="_vLncxr_IEYn2UinCR8Z-1" source="_vLncxr_IEYn2UinCR8Z-12" target="_vLncxr_IEYn2UinCR8Z-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-12" value="HBEM: User(@username=&quot;az-123&quot; || &quot;xyz@az.com&quot;)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="_vLncxr_IEYn2UinCR8Z-1">
          <mxGeometry x="250" y="360" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_vLncxr_IEYn2UinCR8Z-13" value="AD: User(@username=&quot;az-123&quot; || &quot;xyz@az.com&quot;)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="_vLncxr_IEYn2UinCR8Z-1">
          <mxGeometry x="640" y="270" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QMM0N7QVfgKs8nyDElyM-0" value="&lt;p style=&quot;line-height: 1.4&quot;&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;如果是企业员工，&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;1）可以用{公司代码}-{工号}的方式作为用户名称&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;2）可以用公司邮箱作为用户名称&lt;/div&gt;&lt;p&gt;&lt;/p&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="_vLncxr_IEYn2UinCR8Z-1">
          <mxGeometry x="210" y="450" width="400" height="160" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="UserName#2" id="UtBSpc1A62iA4hxt9ALP">
    <mxGraphModel dx="1661" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-0" />
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-1" parent="L1Mf95bSvP_y_2SZ22Zz-0" />
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-2" value="#2: Internal Staff for Multiple Tenants" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" vertex="1" parent="L1Mf95bSvP_y_2SZ22Zz-1">
          <mxGeometry x="360" y="30" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="L1Mf95bSvP_y_2SZ22Zz-1" source="L1Mf95bSvP_y_2SZ22Zz-6" target="L1Mf95bSvP_y_2SZ22Zz-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="L1Mf95bSvP_y_2SZ22Zz-1" source="L1Mf95bSvP_y_2SZ22Zz-6" target="L1Mf95bSvP_y_2SZ22Zz-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="L1Mf95bSvP_y_2SZ22Zz-1" source="L1Mf95bSvP_y_2SZ22Zz-6" target="L1Mf95bSvP_y_2SZ22Zz-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-6" value="Internal Staff" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="L1Mf95bSvP_y_2SZ22Zz-1">
          <mxGeometry x="50" y="250" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="L1Mf95bSvP_y_2SZ22Zz-1" source="L1Mf95bSvP_y_2SZ22Zz-8" target="L1Mf95bSvP_y_2SZ22Zz-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-8" value="Rewards: User(@username=&quot;xyz@aon.com&quot;)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="L1Mf95bSvP_y_2SZ22Zz-1">
          <mxGeometry x="250" y="180" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="L1Mf95bSvP_y_2SZ22Zz-1" source="L1Mf95bSvP_y_2SZ22Zz-10" target="L1Mf95bSvP_y_2SZ22Zz-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-10" value="Flex: User(@username=&quot;xyz@aon.com&quot;)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="L1Mf95bSvP_y_2SZ22Zz-1">
          <mxGeometry x="250" y="270" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="L1Mf95bSvP_y_2SZ22Zz-1" source="L1Mf95bSvP_y_2SZ22Zz-12" target="L1Mf95bSvP_y_2SZ22Zz-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-12" value="HBEM: User(@username=&quot;xyz@aon.com&quot;)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="L1Mf95bSvP_y_2SZ22Zz-1">
          <mxGeometry x="250" y="360" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="L1Mf95bSvP_y_2SZ22Zz-13" value="AD: User(@username=&quot;xyz@aon.com&quot;)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="L1Mf95bSvP_y_2SZ22Zz-1">
          <mxGeometry x="640" y="270" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XozQwCqU7QT5nh0J8-M1-0" value="&lt;p style=&quot;line-height: 1.4&quot;&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;如果是我司内部员工，可以用公司邮箱&lt;/div&gt;&lt;p&gt;&lt;/p&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="L1Mf95bSvP_y_2SZ22Zz-1">
          <mxGeometry x="210" y="450" width="400" height="160" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
